<template>
  <v-container>
    <v-row class="text-center my-auto" justify="center">
      <!-- æ–°ã—ã„æ‰‹æ³• -->
      
      <div id="app" class="pd">
        <image-input v-model="uploadedImage">
          <DrawTool
            :canvas-text="canvasText"
            :canvas-text2="canvasText2"
            :canvas-text3="canvasText3"
            :canvas-text4="canvasText4"
            :canvas-text5="canvasText5"
            :canvas-text6="canvasText6"
            :canvas-text7="canvasText7"
            :canvas-text8="canvasText8"
            :canvas-text9="canvasText9"
            :canvas-text10="canvasText10"
            :uploadedImage="uploadedImage"
            :fontVar="fontVar"
            :colors="colors.hex"
            :fill-color="fillColor.hex"
            :global-alpha="globalAlpha"
            @image-created="createdImageUri=$event"
          />
        </image-input>
      </div>
      <!-- ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸç”»åƒã‚’è¡¨ç¤º -->

      <v-col cols="12"></v-col>
    </v-row>

    <v-row class="ml-2 ">
      <v-col class="mb-4">
        <div class="font-weight-medium title mb-3">âœï¸ãƒ†ã‚­ã‚¹ãƒˆ</div>
        <v-text-field
          placeholder="åå‰ã‚’å…¥åŠ›"
          solo
          class="mx-auto"
          id="canvas_text"
          v-model="canvasText"
        ></v-text-field>

        <v-text-field
          placeholder="è¨€èªã‚’å…¥åŠ›"
          solo
          class="mx-auto"
          id="canvas_text2"
          v-model="canvasText2"
        ></v-text-field>

        <v-text-field
          placeholder="æ­´ã‚’å…¥åŠ›"
          solo
          class="mx-auto"
          id="canvas_text3"
          v-model="canvasText3"
        ></v-text-field>

        <v-text-field
          placeholder="ç›®æ¨™ã‚’å…¥åŠ›"
          solo
          class="mx-auto"
          id="canvas_text4"
          v-model="canvasText4"
        ></v-text-field>
        <v-text-field
          placeholder="è¶£å‘³ã‚’å…¥åŠ›"
          solo
          class="mx-auto"
          id="canvas_text5"
          v-model="canvasText5"
        ></v-text-field>
        <v-text-field
          placeholder="ç‰¹æŠ€ã‚’å…¥åŠ›"
          solo
          class="mx-auto"
          id="canvas_text6"
          v-model="canvasText6"
        ></v-text-field>
        <v-text-field
          placeholder="å†…å®¹ã‚’å…¥åŠ›"
          solo
          class="mx-auto"
          id="canvas_text7"
          v-model="canvasText7"
        ></v-text-field>
        <v-text-field
          placeholder="å‹‰å¼·ä¸­ã®ã‚‚ã®ã‚’å…¥åŠ›"
          solo
          class="mx-auto"
          id="canvas_text8"
          v-model="canvasText8"
        ></v-text-field>
        <v-text-field
          placeholder="ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’å…¥åŠ›"
          solo
          class="mx-auto"
          id="canvas_text9"
          v-model="canvasText9"
        ></v-text-field>
        <v-text-field
          placeholder="ä¸€è¨€"
          solo
          class="mx-auto"
          id="canvas_text10"
          v-model="canvasText10"
        ></v-text-field>

        <v-row>
          <v-menu transition="slide-x-transition">
            <template v-slot:activator="{ on, attrs }">
              <v-btn color="primary" class="ma-2 font-weight-black" v-bind="attrs" v-on="on">ãƒ•ã‚©ãƒ³ãƒˆ</v-btn>
            </template>
            <v-list>
              <v-list-item @click="changeFont('ã‚ãŠãã‚‰æ˜æœ')">ã‚ãŠãã‚‰æ˜æœ</v-list-item>
              <v-list-item @click="changeFont('ãƒ’ãƒ©ã‚®ãƒä¸¸ã‚´ ProN')">ãƒ’ãƒ©ã‚®ãƒä¸¸ã‚´ ProN</v-list-item>
              <v-list-item @click="changeFont('ã‚ãã‚ãƒ•ã‚©ãƒ³ãƒˆ')">ã‚ãã‚ãƒ•ã‚©ãƒ³ãƒˆ</v-list-item>
              <v-list-item @click="changeFont('ã‚¯ãƒ¬ãƒ¼')">ã‚¯ãƒ¬ãƒ¼</v-list-item>
              <v-list-item @click="changeFont('ã‘ã„ãµã‰ã‚“ã¨ä»®å')">ã‘ã„ãµã‰ã‚“ã¨ä»®å</v-list-item>
            </v-list>
          </v-menu>
        </v-row>
      </v-col>
    </v-row>

    <v-row class="ml-2">
      <v-col>
        <div class="font-weight-medium title mb-3">ğŸ› è¨­å®š</div>
        <div>æ–‡å­—ã®è‰²</div>
        <chrome-picker v-model="colors" />
      </v-col>
    </v-row>

    <!-- ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <v-row justify="space-around">
      <v-col cols="auto">
        <v-dialog transition="dialog-top-transition" max-width="600">
          <template v-slot:activator="{ on, attrs }">
            <v-btn class="ma-2 mt-5 font-weight-black" color="primary" v-bind="attrs" v-on="on">
              ä¿å­˜
              <v-icon dark right>mdi-checkbox-marked-circle</v-icon>
            </v-btn>
          </template>
          <template v-slot:default="dialog">
            <v-card>
              <v-toolbar color="primary" dark class="justify-center text-center title bold">
                <div
                  class="justify-center text-center title font-weight-bold py-3 mx-auto"
                >ğŸå®Œæˆã—ã¾ã—ãŸğŸ</div>
              </v-toolbar>
              <v-card-text class="justify-center text-center bold">
                <div
                  class="font-weight-medium title justify-center text-center my-3 font-weight-bold"
                >âœ‹ç”»åƒã‚’é•·æŠ¼ã—ã€ã¾ãŸã¯å³ã‚¯ãƒªãƒƒã‚¯ã§ç”»åƒã‚’ä¿å­˜ã—ã¦ã­</div>
                <img class="justify-center text-center img-radius" :src="createdImageUri" />
                <div
                  class="font-weight-medium title justify-center text-center font-weight-bold"
                >ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ˜¯éã¨ã‚‚å…±æœ‰ã—ã¦ãã ã•ã„âœŒï¸</div>
              </v-card-text>
              <div class="text-center">
                <v-btn large class="mb-2 font-weight-bold" color="primary" @click="tweet()">ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹</v-btn>
              </div>
              <v-card-actions class="justify-end">
                <v-btn text @click="dialog.value = false">Close</v-btn>
              </v-card-actions>
            </v-card>
          </template>
        </v-dialog>
      </v-col>
    </v-row>
  </v-container>
</template>

<script>
// ã‚­ãƒ£ãƒ³ãƒã‚¹ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®èª­ã¿è¾¼ã¿
import DrawTool from "./DrawTool.vue";
import { Chrome } from "vue-color";
import ImageInput from "./ImageInput";

export default {
  components: {
    DrawTool,
    "chrome-picker": Chrome,
    ImageInput,
  },
  name: "Main",

  data: () => ({
    uploadedImage: "",
    inputedImage: "",
    canvasText: "",
    canvasText2: "",
    canvasText3: "",
    canvasText4: "",
    canvasText5: "",
    canvasText6: "",
    canvasText7: "",
    canvasText8: "",
    canvasText9: "",
    canvasText10: "",
    fontVar: "",
    colors: {
      hex: "#000000",
    },
    fillColor: {
      hex: "#000000",
    },
    globalAlpha: 0,
    createdImageUri: "",
  }),
  methods: {
    changeMessage: function (newText) {
      this.canvasText = newText;
    },
    changeMessage2: function (newText) {
      this.canvasText2 = newText;
    },
    changeMessage3: function (newText) {
      this.canvasText3 = newText;
    },
    changeMessage4: function (newText) {
      this.canvasText4 = newText;
    },
    changeMessage5: function (newText) {
      this.canvasText5 = newText;
    },
    changeMessage6: function (newText) {
      this.canvasText6 = newText;
    },
    changeMessage7: function (newText) {
      this.canvasText7 = newText;
    },
    changeMessage8: function (newText) {
      this.canvasText8 = newText;
    },
    changeMessage9: function (newText) {
      this.canvasText9 = newText;
    },
    changeMessage10: function (newText) {
      this.canvasText10 = newText;
    },
    changeFont: function (newFontName) {
      this.fontVar = newFontName;
    },
    changeStyle: function (fontColorStr, fillColorStr, globalAlpha) {
      this.colors.hex = fontColorStr;
      this.fillColor.hex = fillColorStr;
      this.globalAlpha = globalAlpha;
      console.log("change");
    },
    tweet() {
      var shareURL =
        "https://twitter.com/intent/tweet?text=" +
        "è‡ªå·±ç´¹ä»‹ãƒ¡ãƒ¼ã‚«ãƒ¼ã§ã‚«ãƒ¼ãƒ‰ã‚’ä½œã‚ã†ï¼" +
        "%20%23ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢è‡ªå·±ç´¹ä»‹ãƒ¡ãƒ¼ã‚«ãƒ¼" +
        "%20%23é§†ã‘å‡ºã—ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ç¹‹ãŒã‚ŠãŸã„" +
        "&url=" +
        "https://it-intro-67781.web.app";
      location.href = shareURL;
    },
  },
};
</script>

<style>
.img-radius {
  border: 1px solid #000000;
}

.pd {
  margin-top: 50px;
  margin-bottom: 50px;
}
</style>



